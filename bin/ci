#!/usr/bin/env bash
set -euo pipefail

echo "==> Installing dependencies"
bundle install --quiet

echo ""
echo "==> Markdown lint"
bundle exec mdl README.md AGENT.md lib/hakumi_orm/README.md CHANGELOG.md CODE_OF_CONDUCT.md

echo ""
echo "==> RuboCop"
bundle exec rubocop

echo ""
echo "==> Sorbet"
bundle exec srb tc

echo ""
echo "==> Tests"
bundle exec rake test

echo ""
echo "==> All checks passed"
